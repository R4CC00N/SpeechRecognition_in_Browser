<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
      // Componente para manejar la interacción y la escritura
      AFRAME.registerComponent('input-text', {
        init: function () {
          var el = this.el;
          var sky = document.querySelector('a-sky'); // Obtener el fondo de la escena (a-sky)
          var planeText = document.querySelector('#planeText'); // Obtener el texto del plano
          var plane = document.querySelector('a-plane'); // Obtener el plano

          // Detectar el clic del ratón sobre el objeto
          el.addEventListener('click', () => {
            var newText = prompt('Escribe algo:'); // Prompt para ingresar texto
            if (newText) {
              // Actualizar el texto en el plano
              planeText.setAttribute('value', newText);

              // Detectar las palabras "verde" o "rojo" y cambiar el color de fondo de a-sky
              if (newText.toLowerCase().includes('crear')) {
                sky.setAttribute('color', '#98bf63'); // Cambiar fondo a verde
                // añadir funcionalidad por casos
                // leer linea y si dentro tambien aparece un array de [cubo, circulo, ....]
                // los crea en 
                // solicitar donde y que tamaño y un nombre
              } else if (newText.toLowerCase().includes('editar')) {
                sky.setAttribute('color', '#d13f3f'); // Cambiar fondo a rojo
                // debe decir el que por un id y luego decir que quier modificar si detecta  [tamaño, escala, posicion]
                //hacer lo solicidtado
              } else {
                sky.setAttribute('color', '#D3D3D3'); // Fondo gris claro por defecto
              }
            }
          });
        },
      });
    </script>
  </head>
  <body>
    <a-scene>
      <!-- Fondo gris claro inicial -->
      <a-sky color="#D3D3D3"></a-sky>

      <!-- Caja interactiva donde puedes hacer clic para escribir (solo texto estático) -->
      <a-box position="0 0.20 -3" depth="0.15" height="0.25" width="2" color="#8ec3d0" input-text>
        <a-text value="Pulsa para escribir" align="center" position="0 0.1 0.3" color="black" width="3"></a-text>
      </a-box>

      <!-- Plano con texto que se actualizará -->
      <a-plane position="0 0.5 -5" width="6" height="2" color="white">
        <a-text id="planeText" value="Texto en 3D" align="center" color="black" position="0 0 0.1"></a-text>
      </a-plane>

      <!-- Añadir un cursor para detectar clics -->
      <a-entity cursor="rayOrigin: mouse" position="0 0 -3"></a-entity>
    </a-scene>
  </body>
</html>