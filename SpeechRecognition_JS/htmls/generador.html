<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>A-Frame VR Scene</title>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="../js/generador.js"></script> <!-- Archivo JavaScript externo -->
    <link rel="stylesheet" href="../css/generador.css"> <!-- Archivo CSS externo -->
</head>
<body>
    <a-scene id="main">
        <!-- Cielo de fondo -->
        <a-sky  color="#D3D3D3" sky-manager></a-sky>

        <!-- Elemento de entrada interactivo con input-text -->
        <a-box id="voiceInputBox"
            position="0 -0.5 -3"
            depth="0.15"
            height="0.25"
            width="2"
            color="#8ec3d0"
            class="clickable"
            animation="startEvents: click; property: scale;
            from: 2 2 2; to: 1 1 1; dur: 1000"
            input-text="event: click">
            <a-text value="Pulsa para grabar/detener" align="center" position="0 0.1 0.3" color="black" width="3"></a-text>
        </a-box>

        <!-- Plano de texto para mostrar la transcripción en 3D -->
        <a-plane position="0 0.5 -3" width="6" height="2" color="white" transcription-display="input: #voiceInputBox">
            <a-text id="transcriptionText" value="Texto en 3D" align="center" color="black" position="0 0 0.1"></a-text>
        </a-plane>

        <!-- Mensaje de estado para mostrar mensajes como el inicio/detención de grabación y transcripción -->
        <a-text id="userMessage" value="Bienvenido a VOICE VR" align="center" color="black" position="0 2 -3" width="6"></a-text>

        <!-- Cursor y controladores VR/AR -->
        <a-entity position="0 1.6 0">
            <a-camera wasd-controls look-controls>
                <a-entity
                    cursor="rayOrigin: mouse; fuse: false"
                    raycaster="objects: .clickable"
                    position="0 0 -1"
                    geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                    material="color: white; shader: flat">
                </a-entity>
            </a-camera>
        </a-entity>

        <!-- Controladores VR para interacción -->
        <a-entity laser-controls="hand: right"></a-entity>
        <a-entity laser-controls="hand: left"></a-entity>

        <!-- Componente de manejo de comandos que escucha al elemento con ID "voiceInputBox" -->
        <a-entity id="create" command-handler="input: #voiceInputBox"></a-entity>
        <a-entity object-creator="input: #create"></a-entity>
    </a-scene>
</body>
</html>
